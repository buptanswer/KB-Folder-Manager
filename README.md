# KB Folder Manager

ä¸€ä¸ªä¸ºä¸ªäººçŸ¥è¯†åº“æ•´ç†å’Œç®¡ç†è€Œè®¾è®¡çš„ Windows/Python å·¥å…·ï¼Œæä¾›æ–‡ä»¶å¤¹åˆ†å‰²ã€åˆå¹¶ã€æ ¡éªŒå’Œç´¢å¼•åŠŸèƒ½ã€‚**v3.0 æ–°å¢ç²¾ç¾çš„å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰ï¼**

ğŸ“– **æ–‡æ¡£å¯¼èˆª**: [ç”¨æˆ·æŒ‡å—](./docs/user-guide.md) | [å¼€å‘è€…æŒ‡å—](./docs/developer-guide.md) | [å‘å¸ƒè¯´æ˜](./docs/release-notes/v3.0.md) | [æ›´æ–°æ—¥å¿—](./CHANGELOG.md)

## åŠŸèƒ½ç‰¹æ€§

- **Splitï¼ˆæ‹†åˆ†ï¼‰** - å°† Complete ç›®å½•æ‹†åˆ†æˆ Docï¼ˆæ–‡æ¡£ï¼‰å’Œ Resï¼ˆèµ„æºï¼‰ä¸¤ä¸ªç‹¬ç«‹ç›®å½•
- **Mergeï¼ˆåˆå¹¶ï¼‰** - å°† Doc å’Œ Res ç›®å½•åˆå¹¶å› Complete ç›®å½•
- **Validateï¼ˆæ ¡éªŒï¼‰** - éªŒè¯æ–‡ä»¶å¤¹ç»“æ„æ˜¯å¦ç¬¦åˆè§„èŒƒ
- **Indexï¼ˆç´¢å¼•ï¼‰** - ç”Ÿæˆå¸¦å“ˆå¸Œå€¼å’Œå…ƒæ•°æ®çš„ç´¢å¼•æ–‡ä»¶

## æ ¸å¿ƒè®¾è®¡åŸåˆ™

- **Complete ç›®å½•ä¸¥æ ¼åªè¯»** - ä¿æŠ¤åŸå§‹æ•°æ®å®Œæ•´æ€§
- **å ä½ç¬¦æœºåˆ¶** - ä½¿ç”¨ç©ºæ–‡ä»¶å¤¹ä½œä¸ºå ä½ç¬¦ï¼Œæ ‡è®°è¢«ç§»èµ°çš„æ–‡ä»¶
- **é—­ç¯æ“ä½œæµç¨‹** - é¢„æ£€ â†’ ç”¨æˆ·ç¡®è®¤ â†’ æ‰§è¡Œ â†’ åæ£€
- **å“ˆå¸Œæ ¡éªŒ** - æ”¯æŒå¤šç§å“ˆå¸Œç®—æ³•ï¼ˆé»˜è®¤ SHA256ï¼‰

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.10 æˆ–æ›´é«˜ç‰ˆæœ¬
- Windows æ“ä½œç³»ç»Ÿ
- 7-Zipï¼ˆå¯é€‰ï¼Œç”¨äºå‹ç¼©åŠŸèƒ½ï¼‰

### å®‰è£…

1. å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®ï¼š
```bash
git clone https://github.com/buptanswer/KB-Folder-Manager.git
cd KB-Folder-Manager
```

2. å®‰è£…ä¾èµ–ï¼š
```bash
pip install -r requirements.txt
```

**æ³¨æ„**ï¼šé¡¹ç›®ä½¿ç”¨ç›¸å¯¹å¯¼å…¥ï¼Œæ‰€æœ‰å‘½ä»¤éœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œã€‚å¦‚æœéœ€è¦ä»å…¶ä»–ç›®å½•è°ƒç”¨ï¼Œå¯ä»¥ï¼š

**æ–¹æ³• 1**ï¼šå°†é¡¹ç›®ç›®å½•æ·»åŠ åˆ° PYTHONPATH
```powershell
# Windows PowerShell
$env:PYTHONPATH = "C:\path\to\KB-Folder-Manager"
python -m kb_folder_manager.gui

# æˆ–åœ¨å½“å‰ä¼šè¯ä¸´æ—¶è®¾ç½®
$env:PYTHONPATH = "$PWD"
python -m kb_folder_manager.gui
```

```bash
# Linux/Mac
export PYTHONPATH=/path/to/KB-Folder-Manager
python -m kb_folder_manager.gui
```

**æ–¹æ³• 2**ï¼ˆæ¨èï¼‰ï¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ç›´æ¥è¿è¡Œ
```powershell
cd KB-Folder-Manager
python kb_folder_manager_gui.py
```

### ä½¿ç”¨æ–¹å¼

#### ğŸ¨ GUI å›¾å½¢ç•Œé¢ï¼ˆæ¨èæ–°æ‰‹ä½¿ç”¨ï¼‰

å¯åŠ¨å›¾å½¢ç•Œé¢ï¼š
```powershell
python kb_folder_manager_gui.py
```

GUI æä¾›ï¼š
- ç›´è§‚çš„å¯è§†åŒ–æ“ä½œç•Œé¢
- å®æ—¶è¿›åº¦æ˜¾ç¤ºå’Œæ—¥å¿—è¾“å‡º
- å‹å¥½çš„é”™è¯¯æç¤º
- æ— éœ€è®°å¿†å‘½ä»¤å‚æ•°

**å¿«é€Ÿæµ‹è¯• GUI**ï¼š
```powershell
# åˆ›å»ºæµ‹è¯•æ•°æ®å¹¶æŒ‰ç…§å±å¹•æç¤ºæ“ä½œ
python tests\create_test_data_for_gui.py
python kb_folder_manager_gui.py
```

è¯¦ç»†ä½¿ç”¨è¯´æ˜è¯·å‚è€ƒï¼š[ç”¨æˆ·æŒ‡å— - GUI ä½¿ç”¨ç« èŠ‚](./docs/user-guide.md#gui-ä½¿ç”¨)

#### âŒ¨ï¸ å‘½ä»¤è¡Œç•Œé¢ï¼ˆé€‚åˆè‡ªåŠ¨åŒ–ï¼‰

å‘½ä»¤è¡Œé€‚åˆè„šæœ¬è‡ªåŠ¨åŒ–å’Œæ‰¹é‡å¤„ç†ã€‚

#### æ‹†åˆ†ï¼ˆSplitï¼‰
å°†çŸ¥è¯†åº“æ‹†åˆ†ä¸ºæ–‡æ¡£å’Œèµ„æºï¼š
```powershell
python kb_folder_manager.py split --source "D:\Data\MyKB" --output-root "D:\Output\SplitRun"
```

**å¯é€‰å‚æ•°ï¼š**
- `--force` - è¾“å‡ºç›®å½•éç©ºæ—¶ç»§ç»­æ‰§è¡Œï¼ˆéœ€è°¨æ…ï¼‰
- `--yes` - è·³è¿‡ç¡®è®¤æç¤ºï¼Œç›´æ¥æ‰§è¡Œ

**è¾“å‡ºç»“æ„ï¼š**
```
OutputRoot/
â”œâ”€â”€ doc/<FolderName>/          # æ–‡æ¡£æ–‡ä»¶
â”œâ”€â”€ res/<FolderName>/          # èµ„æºæ–‡ä»¶
â””â”€â”€ index/
    â”œâ”€â”€ complete/.kb_index.json
    â”œâ”€â”€ doc/.kb_index.json
    â””â”€â”€ res/.kb_index.json
```

#### åˆå¹¶ï¼ˆMergeï¼‰
å°†æ‹†åˆ†çš„æ–‡æ¡£å’Œèµ„æºåˆå¹¶å› Complete ç›®å½•ï¼š
```powershell
python kb_folder_manager.py merge --doc-root "D:\Output\doc" --res-root "D:\Output\res" --output-root "D:\Output\MergeRun"
```

#### æ ¡éªŒï¼ˆValidateï¼‰
æ£€æŸ¥æ–‡ä»¶å¤¹ç»“æ„æ˜¯å¦åˆè§„ï¼š
```powershell
python kb_folder_manager.py validate --path "D:\Data\MyKB"
```

#### ç´¢å¼•ï¼ˆIndexï¼‰
ä¸ºæŒ‡å®šç›®å½•ç”Ÿæˆç´¢å¼•ï¼š
```powershell
python kb_folder_manager.py index --path "D:\Data\MyKB" --output "index.json"
```

## é…ç½®æ–‡ä»¶

é¡¹ç›®ä½¿ç”¨ `config.yaml` è¿›è¡Œé…ç½®ï¼Œä¸»è¦å­—æ®µè¯´æ˜ï¼š

```yaml
# æ–‡æ¡£ä¾§ä¿ç•™çš„æ–‡ä»¶ç±»å‹åˆ—è¡¨ï¼ˆåŸºäºæœ€åä¸€ä¸ªåç¼€è¯†åˆ«ï¼‰
specified_types: ['.pdf', '.doc', '.docx', '.txt', '.md', ...]

# å ä½ç¬¦åç¼€æ ‡è®°ï¼ˆè¡¨ç¤ºè¯¥æ–‡ä»¶å·²è¢«ç§»èµ°ï¼‰
placeholder_suffix: "(åœ¨ç™¾åº¦ç½‘ç›˜)"

# å“ˆå¸Œç®—æ³•é€‰æ‹©
hash_algorithm: "sha256"

# æ˜¯å¦ä½¿ç”¨ 7-Zip è¿›è¡Œå‹ç¼©æ“ä½œ
use_7zip: true
```

**é‡è¦æç¤ºï¼š**
- `specified_types` å¿…é¡»ä¸ºå°å†™å¹¶åŒ…å«ç‚¹å·å‰ç¼€ï¼ˆå¦‚ `.pdf`ï¼‰
- `placeholder_suffix` æ˜¯ä¿ç•™æ ‡è®°ï¼ŒçœŸå®ç›®å½•åä¸¥ç¦ä»¥è¯¥åç¼€ç»“å°¾
- ä¿®æ”¹é…ç½®åé‡å¯ç¨‹åºç”Ÿæ•ˆ

## é¡¹ç›®ç»“æ„

```
KB-Folder-Manager/
â”œâ”€â”€ kb_folder_manager/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ cli.py                 # å‘½ä»¤è¡Œæ¥å£
â”‚   â”œâ”€â”€ config.py              # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ indexer.py             # ç´¢å¼•ç”Ÿæˆ
â”‚   â”œâ”€â”€ operations.py          # æ ¸å¿ƒæ“ä½œï¼ˆsplit/merge/validateï¼‰
â”‚   â”œâ”€â”€ utils.py               # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ validator.py           # æ ¡éªŒé€»è¾‘
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_basic.py          # åŸºç¡€æµ‹è¯•
â”œâ”€â”€ kb_folder_manager.py       # å…¥å£æ–‡ä»¶
â”œâ”€â”€ requirements.txt           # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ config.yaml                # é…ç½®æ–‡ä»¶
â”œâ”€â”€ README.md                  # æœ¬æ–‡ä»¶
â””â”€â”€ ç”¨æˆ·æ‰‹å†Œ.md                # è¯¦ç»†ç”¨æˆ·æ‰‹å†Œ
```

## æ–‡æ¡£

### ä¸»è¦æ–‡æ¡£
- **[ç”¨æˆ·æŒ‡å—](./docs/user-guide.md)** - å®Œæ•´çš„ç”¨æˆ·ä½¿ç”¨æ‰‹å†Œï¼ˆå«å®‰è£…ã€é…ç½®ã€GUIã€CLIï¼‰
- **[å¼€å‘è€…æŒ‡å—](./docs/developer-guide.md)** - å¼€å‘æ–‡æ¡£ï¼ˆå«æ¶æ„ã€æµ‹è¯•ã€è´¡çŒ®æŒ‡å—ï¼‰
- **[å‘å¸ƒè¯´æ˜ v3.0](./docs/release-notes/v3.0.md)** - v3.0 ç‰ˆæœ¬æ›´æ–°è¯¦æƒ…
- **[æ›´æ–°æ—¥å¿—](./CHANGELOG.md)** - å®Œæ•´çš„ç‰ˆæœ¬æ›´æ–°è®°å½•

### å†å²æ–‡æ¡£
- [é¡¹ç›®è®¾è®¡æ–‡æ¡£](./KB-Folder-Manageré¡¹ç›®æ–‡æ¡£/KB%20Folder%20Manager%20é¡¹ç›®éœ€æ±‚ä¸è®¾è®¡æ–‡æ¡£%20(v2.8).md) - å®Œæ•´çš„æŠ€æœ¯è®¾è®¡å’Œéœ€æ±‚åˆ†æ
- [KB-Folder-Manageré¡¹ç›®æ–‡æ¡£/](./KB-Folder-Manageré¡¹ç›®æ–‡æ¡£/) - å†å²ç‰ˆæœ¬æ–‡æ¡£

## å¸¸è§é—®é¢˜

è¯¦ç»†é—®é¢˜è§£ç­”è¯·å‚è€ƒ [ç”¨æˆ·æŒ‡å— - å¸¸è§é—®é¢˜ç« èŠ‚](./docs/user-guide.md#å¸¸è§é—®é¢˜)ã€‚

**å¿«é€Ÿç­”æ¡ˆ**ï¼š
- **å¦‚ä½•å¤„ç†å¤§é‡æ–‡ä»¶ï¼Ÿ** - å¯ä»¥åˆ†æ‰¹å¤„ç†ï¼Œæˆ–ä½¿ç”¨ `--force` å‚æ•°
- **å ä½ç¬¦çš„ä½œç”¨ï¼Ÿ** - æ ‡è®°åŸå§‹ä½ç½®ï¼Œé¿å…åˆå¹¶æ—¶å‡ºç°é—®é¢˜
- **å¦‚ä½•éªŒè¯æ­£ç¡®æ€§ï¼Ÿ** - æŸ¥çœ‹ç”Ÿæˆçš„ `.kb_index.json` ç´¢å¼•æ–‡ä»¶
- **å…¶ä»–æ“ä½œç³»ç»Ÿï¼Ÿ** - ä¸»è¦é’ˆå¯¹ Windowsï¼ŒLinux/Mac å¯å°è¯•ä½†éœ€è°ƒæ•´

## å¼€å‘

### è¿è¡Œæµ‹è¯•
```bash
python -m unittest discover tests
```

### æ›´å¤šå¼€å‘ä¿¡æ¯
è¯¦è§ [å¼€å‘è€…æŒ‡å—](./docs/developer-guide.md)

## è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](./LICENSE) æ–‡ä»¶

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ä½œè€…

Created by buptanswer

## æ›´æ–°æ—¥å¿—

### v3.0 (2026-01-30)
- ğŸ‰ **æ–°å¢å›¾å½¢ç”¨æˆ·ç•Œé¢ (GUI)**
  - åŸºäº ttkbootstrap çš„ç°ä»£åŒ–ç•Œé¢è®¾è®¡
  - æ”¯æŒæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ï¼šSplitã€Mergeã€Validateã€Index
  - å®æ—¶è¿›åº¦æ¡å’Œæ—¥å¿—è¾“å‡º
  - å‹å¥½çš„æ–‡ä»¶/æ–‡ä»¶å¤¹æµè§ˆå™¨
  - é…ç½®ç®¡ç†ç•Œé¢
- å®Œæ•´çš„ GUI æµ‹è¯•å¥—ä»¶
- æ–°å¢ GUI ä½¿ç”¨æŒ‡å—æ–‡æ¡£

### v2.8
- å®Œå–„ç´¢å¼•ç”ŸæˆåŠŸèƒ½
- ä¼˜åŒ–æ–‡ä»¶æ ¡éªŒé€»è¾‘
- æ”¹è¿›ç”¨æˆ·äº¤äº’ä½“éªŒ

### v2.0
- æ ¸å¿ƒåŠŸèƒ½å®ç°
- å‘½ä»¤è¡Œæ¥å£

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- æäº¤ GitHub Issue
- æˆ–ç›´æ¥é‚®ä»¶è”ç³»

---

**æœ€åæ›´æ–°ï¼š** 2026å¹´1æœˆ30æ—¥ | **ç‰ˆæœ¬ï¼š** v3.0
